<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta
			name="viewport"
			content="width=device-width, initial-scale=1, shrink-to-fit=no"
		/>
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
			rel="stylesheet"
			integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
			crossorigin="anonymous"
		/>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
		<script
			src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
			integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
			crossorigin="anonymous"
		></script>
		<link rel="stylesheet" href="../static/style.css" />
		<title>USF Apartment</title>
		<script>
			$(document).ready(function () {
				listing();
			});
			function listing() {
				fetch("/apt")
					.then((res) => res.json())
					.then((data) => {
						$("#cards").empty();
						let results = data["apt_info"];
						results.forEach((a) => {
							let name = a["name"];
							let address = a["address"];
							let price = a["price"];
							let size = a["size"];
							let link = a["link"];
							let image = a["image"];
							let temp_html = `<div class="col">
												<div class="card h-100">
                                                    <img
                                                        src="${image}"
                                                        class="card-img-top"
                                                        alt="..."
                                                    />
                                                    <div class="card-body">
                                                        <h5 class="card-title">${name}</h5>
                                                        <p class="card-subtitle mb-2 text-muted>${address}</p>
                                                        <p class="card-text">${price}</p>
                                                        <p class="aptsize">${size}</p>
                                                        <a class="btn btn-primary" href="${link}" role="button" style="border: 0px; background-color: #046648;">VISIT</a>
                                                    </div>
                                                </div>
                                            </div>
						                    `;
							$("#cards").append(temp_html);
						});
					});
			}
		</script>
	</head>
	<body>
		<div class="mytitle">
			<h1>USF Apartment List</h1>
		</div>
		<div class="mycards">
			<div id="cards" class="row row-cols-1 row-cols-md-4 g-4">
				<div class="col">
					<div class="card h-100">
						<img
							src="https://images1.apartments.com/i2/3hWrVjdI-ZH9bqPhQ-9eflm6ztc-vCTADjbQynEh9NY/117/halo-46-off-campus-student-housing-tampa-fl-haven-46-4630.jpg?p=1"
							class="card-img-top"
							alt="..."
						/>
						<div class="card-body">
							<h5 class="card-title">Apartment Name</h5>
							<p class="card-subtitle mb-2 text-muted">
								Apartment Address
							</p>
							<p class="card-text">Apartment Price</p>
							<p class="aptsize">Apartment Size</p>
							<a class="btn btn-primary" href="#" role="button"
								>VISIT</a
							>
						</div>
					</div>
				</div>
			</div>
		</div>
	</body>
</html>
